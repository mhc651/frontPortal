{"version":3,"sources":["webpack:///src/views/NewPassword/Index.vue","webpack:///./src/views/NewPassword/Index.vue?32f6","webpack:///./src/views/NewPassword/Index.vue"],"names":["Index","name","components","inputItem","complexInputItem","data","_this","this","ind","fsecond","ftimer","fsd","clientHeight","src","disabledBtn","time","timer","err","errMsg","reviewUrl","formValidate","cardNo","phone","phoneCode","password","confirmPwd","username","orgname","realname","mobile","verification","ruleValidate","required","message","trigger","validator","validate","validateIdCard","type","min","max","rule","value","callback","Error","computed","extends_default","Object","vuex_esm","methods","mathRandow","s","i","substr","Math","floor","random","join","getNumCode","clearInterval","setInterval","bind","getPhoneCode","types","then","res","success","fiveCountd","$router","push","handleSubmit","_this2","$refs","valid","param","validUserName","console","log","document","getElementById","setAttribute","content","errcode","_param","validMessFp","removeAttribute","_param2","userpwd","userpwd2","resetpwd","setHeight","documentElement","fheight","getElementsByTagName","mounted","that","window","onresize","NewPassword_Index","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","id","ref","model","rules","label-width","classNow","class","_v","_e","labelVal","label","prop","plh","_s","placeholder","$$v","$set","expression","directives","rawName","disabled","on","click","tip","inputType","to","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.abc57a7f34ea23f791ff.js","sourcesContent":["<template>\r\n<div class=\"container--fluid\">\r\n    <div class=\"main\" id=\"fpw\">\r\n      <!-- 表单 -->\r\n       <Form ref='formValidate' :model='formValidate' :rules='ruleValidate' :label-width='245'>\r\n         <table class=\"ititle\">\r\n           <thead>\r\n            <th  class=\"nowC comC\" :class=\"classNow\" v-if=\"ind==0? classNow='nowC': classNow='passC'\"><div>1</div><span>填写账户名</span></th>\r\n             <th  class=\"defaultC comC\" id=\"twoth\"><div>2</div><span>验证身份</span></th>\r\n            <!--<th  class=\"nowC comC\" :class=\"classNow\" v-if=\"ind==1? classNow='nowC': classNow='passC'\"><div>1</div><span>选择账户类型</span></th>-->\r\n             <th  class=\"defaultC comC\" id=\"threeth\"  ><div>3</div><span>设置新密码</span></th>\r\n             <th  class=\"defaultC comC\"   id=\"four\"><div>4</div><span>重置成功</span></th>\r\n           </thead>\r\n         </table>\r\n       <div class=\"mt60\">\r\n         <div v-if=\"ind==0\">\r\n           <inputItem\r\n             :labelVal='{label:\"账号\"}'\r\n             :model='formValidate'\r\n             prop='username'\r\n             ref='username'\r\n             plh=\" 请输入登录账号\"\r\n           />\r\n         </div>\r\n         <div v-if=\"ind==1\">\r\n\r\n           <div class='verificationCode publicInput'>\r\n             <FormItem label='用户名：' prop='username' class='formItem'>\r\n               <label class='rightTip text-center lh40'>{{formValidate.username}}</label>\r\n             </FormItem>\r\n           </div>\r\n           <div class='verificationCode publicInput'>\r\n             <FormItem label='企业名称：' prop='orgname' class='formItem'>\r\n               <label class='rightTip text-center lh40'>{{formValidate.orgname}}</label>\r\n             </FormItem>\r\n           </div>\r\n           <div class='verificationCode publicInput'>\r\n             <FormItem label='已验证手机：' prop='mobile' class='formItem'>\r\n               <label class='rightTip text-center lh40'>{{formValidate.mobile}}</label>\r\n             </FormItem>\r\n           </div>\r\n\r\n\r\n          <!-- 手机验证码 -->\r\n          <div class='verificationCode publicInput'>\r\n            <FormItem label='验证码：' prop='phoneCode' class='formItem'>\r\n              <div class='NumCode'>\r\n                <Input type='text' v-model='formValidate.phoneCode' placeholder=\"请输入验证码\"/>\r\n                <Button disabled v-show='disabledBtn'>{{time}}s后可重新获取</Button>\r\n                <Button @click='getNumCode' v-show='!disabledBtn'>获取验证码</Button>\r\n              </div>\r\n              <label class='rightTip text-center'>请于2分钟内查收手机短信，并填写短信中的验证码</label>\r\n            </FormItem>\r\n          </div>\r\n          <!-- 手机验证码 end-->\r\n\r\n           <div class='verificationCode publicInput'>\r\n             <FormItem  class='formItem'>\r\n               <i class=\" icon hx hx-hx_quangantanhao fzth\"></i>\r\n               <!--<lable class='rightTip text-center lh40'>没收到短信验证码</lable>-->\r\n               <div class=\"ml210\">没收到短信验证码</div>\r\n               <div class=\"ml210\">1、网络通讯异常可能会造成短信丢失，请重新获取或稍后再试。</div>\r\n               <div class=\"ml210\">2、请核实手机是否已欠费停机，或者屏蔽了系统短信。</div>\r\n             </FormItem>\r\n           </div>\r\n\r\n         </div>\r\n          <!-- passwork -->\r\n         <div v-if=\"ind==2\">\r\n\r\n           <div class='verificationCode publicInput'>\r\n             <FormItem label='用户名：' prop='username' class='formItem'>\r\n               <label class='rightTip text-center lh40'>{{formValidate.username}}</label>\r\n             </FormItem>\r\n           </div>\r\n           <div class='verificationCode publicInput'>\r\n             <FormItem label='企业名称：' prop='orgname' class='formItem'>\r\n               <label class='rightTip text-center lh40'>{{formValidate.orgname}}</label>\r\n             </FormItem>\r\n           </div>\r\n           <div class='verificationCode publicInput'>\r\n             <FormItem label='已验证手机：' prop='mobile' class='formItem'>\r\n               <label class='rightTip text-center lh40'>{{formValidate.mobile}}</label>\r\n             </FormItem>\r\n           </div>\r\n            <inputItem\r\n              :labelVal='{label:\"输入新密码\",tip:\"密码为6-20位英文字母、数字的组合\"}'\r\n              :model='formValidate'\r\n              prop='password'\r\n              inputType='password'\r\n            />\r\n            <inputItem\r\n              :labelVal='{label:\"确认新密码\",tip:\"请确保两次密码输入保持一致\"}'\r\n              :model='formValidate'\r\n              prop='confirmPwd'\r\n              inputType='password'\r\n            />\r\n         </div>\r\n          <!-- passwork end-->\r\n         <div v-if=\"ind==3\">\r\n           <div class=\"congr\">恭喜您！密码设置成功，请重新登录！</div>\r\n           <div class=\"relogin\">系统将在<span class=\"textred\">{{fsecond}}</span><span>秒后自动调整至登录页面，您可以选择直接登陆</span> <router-link class=\"pull-right relot\" to=\"/login\">返回登录</router-link></div>\r\n\r\n         </div>\r\n        </div>\r\n      </Form>\r\n      <!-- 表单 end-->\r\n      <!-- sub -->\r\n      <div class=\"registerWrap w1198\">\r\n      <!-- tip -->\r\n      <p class='errRemind'>{{errMsg}}</p>\r\n      <!-- tip end-->\r\n       <Button v-if=\"ind==0 || ind==1 || ind==2\" type='primary' class='registerBtn' @click='handleSubmit(\"formValidate\")'>下一步</Button>\r\n      </div>\r\n      <!-- sub end-->\r\n    </div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\n// import Steps from \"../../components/NewPasswordSteps\";\r\n\r\nimport { mapActions, mapState } from 'vuex'\r\nimport inputItem from '../../components/complexInputItem'\r\nimport validatejs from '../../assets/js/validate'\r\n\r\nexport default {\r\n  name: 'NewPassword',\r\n  components: {\r\n    inputItem\r\n    // Steps\r\n  },\r\n  data: function() {\r\n    /*\r\n    *  确认密码验证\r\n    * */\r\n    const validatePassCheck = (rule, value, callback) => {\r\n      if (value !== this.formValidate.password) {\r\n        callback(new Error('密码和确认密码输入不一致'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n\r\n    return {\r\n      ind: 0,\r\n      fsecond: 5,\r\n      ftimer: null,\r\n      fsd: true,\r\n      clientHeight: '500',\r\n      src: '',\r\n      disabledBtn: false,\r\n      time: 180,\r\n      timer: null,\r\n      err: false,\r\n      errMsg: '',\r\n      reviewUrl: '', // 存放预览图片\r\n      formValidate: {\r\n        cardNo: '',\r\n        phone: '',\r\n        phoneCode: '',\r\n        password: '',\r\n        confirmPwd: '',\r\n        username: '',\r\n        orgname: '',\r\n        realname: '',\r\n        mobile: '',\r\n        verification: ''\r\n      },\r\n      ruleValidate: {\r\n        cardNo: [\r\n          { required: true, message: '身份证号码不能为空', trigger: 'blur' },\r\n          { validator: validatejs.validateIdCard, trigger: 'blur' }\r\n        ],\r\n        username: [\r\n          { required: true, message: '账号不能为空', trigger: 'blur' },\r\n        ],\r\n        phoneCode: [\r\n          { required: true, message: '验证码不能为空', trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { required: true, message: '密码不能为空', trigger: 'blur' },\r\n          {\r\n            type: 'string',\r\n            min: 6,\r\n            message: '密码为6-20位英文字母、数字的组合',\r\n            trigger: 'blur'\r\n          },\r\n          {\r\n            type: 'string',\r\n            max: 20,\r\n            message: '密码为6-20位英文字母、数字的组合',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        confirmPwd: [\r\n          { required: true, message: '确认密码不能为空', trigger: 'blur' },\r\n          { validator: validatePassCheck, trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    ...mapState(['app', 'qcode']),\r\n  },\r\n\r\n  methods: {\r\n    ...mapActions(['getPhoneCode', 'getqcode', 'resetpwd', 'validatePhonefp', 'validMessFp', 'validUserName']),\r\n    mathRandow() {\r\n      var s = [];\r\n      var hexDigits = \"0123456789abcdef\";\r\n      for (var i = 0; i < 36; i++) {\r\n        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1);\r\n      }\r\n      s[14] = \"4\";\r\n      s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1);\r\n      s[8] = s[13] = s[18] = s[23] = \"-\";\r\n      var uuid = s.join(\"\");\r\n      return uuid;\r\n    },\r\n    /*\r\n    * 倒计时\r\n    * */\r\n    getNumCode: function() {\r\n      let phoneReg = /(^1[3|4|5|7|8]\\d{9}$)|(^09\\d{8}$)/\r\n      //if (phoneReg.test(this.formValidate.phone)) {\r\n      this.disabledBtn = !this.disabledBtn\r\n      this.time = 120\r\n      clearInterval(this.timer)\r\n      this.timer = null\r\n      if (this.disabledBtn) {\r\n        this.timer = setInterval(\r\n          function() {\r\n            this.time--\r\n            if (this.time === 0) {\r\n              this.disabledBtn = !this.disabledBtn\r\n              this.time = 120\r\n              clearInterval(this.timer)\r\n            }\r\n          }.bind(this),\r\n          1000\r\n        )\r\n      }\r\n      // 获得验证码\r\n      this.getPhoneCode({\r\n        username: this.formValidate.username,\r\n        types: 'forgetPwd'\r\n      }).then(res => {\r\n        if (res.success) {\r\n          // this.formValidate.uuid = res.content.uuid;\r\n        }\r\n      })\r\n\r\n    },\r\n    fiveCountd: function(){\r\n      this.fsecond = 5\r\n      clearInterval(this.ftimer)\r\n      this.ftimer = null\r\n      if(this.fsd){\r\n        this.ftimer = setInterval(function(){\r\n          this.fsecond--\r\n          if(this.fsecond==0){\r\n            clearInterval(this.ftimer);\r\n            this.$router.push('/login')\r\n          }\r\n        }.bind(this),1000)\r\n      }\r\n\r\n    },\r\n\r\n    /*\r\n    * 注册提交\r\n    * */\r\n    handleSubmit: function(name) {\r\n      this.$refs[name].validate(valid => {\r\n        // 判断是否通过本地验证\r\n        if (!valid) return\r\n        if(this.ind==0){/*第一步提交*/\r\n          let param = {\r\n            username: this.formValidate.username,\r\n          }\r\n\r\n          this.validUserName(param).then(\r\n            res => {\r\n              console.log(\"res is\" +res)\r\n              if (res.success) {\r\n                // 成功提醒\r\n                this.ind=1\r\n                document.getElementById(\"twoth\").setAttribute(\"class\",\"comC nowC\");\r\n                this.errMsg = ''\r\n                this.formValidate.realname = res.content.realname\r\n                this.formValidate.mobile = res.content.mobile\r\n                this.formValidate.orgname = res.content.orgname\r\n              }\r\n            },err => {\r\n              this.errMsg = err.errcode\r\n              console.log(\"err is \"+err)\r\n            }\r\n\r\n          )\r\n        }\r\n        else if(this.ind==1){/*第2步提交*/\r\n          let param = {\r\n            username: this.formValidate.username,\r\n            realname: this.formValidate.realname,\r\n            orgname: this.formValidate.orgname,\r\n            mobile: this.formValidate.mobile,\r\n            verification: this.formValidate.phoneCode\r\n          }\r\n\r\n          this.validMessFp(param).then(\r\n            res => {\r\n              if (res.success) {\r\n                // 成功提醒\r\n                this.ind=2\r\n                document.getElementById(\"twoth\").removeAttribute(\"class\",\"nowC\");\r\n                document.getElementById(\"twoth\").setAttribute(\"class\",\"comC passC\");\r\n                document.getElementById(\"threeth\").setAttribute(\"class\",\"comC nowC\");\r\n                this.errMsg = ''\r\n              }\r\n            },\r\n            err => {\r\n                this.errMsg = err.errcode\r\n                console.log(\"校验短信err is \"+err)\r\n            }\r\n          )\r\n\r\n        }else if(this.ind==2){\r\n          let param = {\r\n            username: this.formValidate.username,\r\n            userpwd: this.formValidate.password,\r\n            userpwd2: this.formValidate.confirmPwd // 请在之前调用发送短信验证码的接口向用户发送短信验证码,\r\n          }\r\n          //document.getElementById(\"twoth\").setAttribute(\"class\",\"comC passC\");\r\n          document.getElementById(\"threeth\").setAttribute (\"class\",\"comC passC\");\r\n          document.getElementById(\"four\").setAttribute (\"class\",\"comC nowC\");\r\n          this.resetpwd(param).then(res => {\r\n            if (res.success) {\r\n              this.ind = 3\r\n              this.fiveCountd()\r\n              document.getElementById(\"threeth\").setAttribute (\"class\",\"comC passC\");\r\n              document.getElementById(\"four\").setAttribute (\"class\",\"comC nowC\");\r\n              // 成功提醒\r\n              this.errMsg = ''\r\n            } else {\r\n              // 失败提醒\r\n              this.errMsg = res.errcode\r\n            }\r\n          })\r\n        }\r\n      })\r\n    },\r\n    /*\r\n    * 高度设置\r\n    * */\r\n    setHeight: function () {\r\n      let clih = document.documentElement.clientHeight;\r\n      if(clih<=768){\r\n        this.clientHeight = '498px'\r\n      }else{\r\n        let fheight = document.getElementsByTagName(\"footer\")[0].clientHeight\r\n        console.log(\"footer height is: \"+fheight)\r\n        this.clientHeight = `${document.documentElement.clientHeight-fheight-91-30}px`;\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.setHeight()\r\n    const that = this\r\n    window.onresize = function temp() {\r\n      that.setHeight()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" src=\"./NewPassword.scss\" type=\"text/css\"></style>\r\n<style lang=\"scss\" src=\"../Register/Register.scss\" type=\"text/css\"></style>\r\n<style lang=\"scss\" src=\"../../assets/iconfont/iconfont.css\" ></style>\r\n<style lang=\"scss\" scoped>\r\n.main{\r\n  position: relative;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translateX(-50%) translateY(-50%);\r\n  margin: 0;\r\n}\r\n.verificationCode label.rightTip.lh40 {\r\n  line-height: 40px;\r\n}\r\n.fzth {\r\n  float: left;\r\n  font-size: 30px;\r\n  margin-left: 212px;\r\n}\r\n.ml210{margin-left: 245px;}\r\n.verificationCode label.rightTip{margin-left: 0}\r\n.mt60{margin: 60px auto}\r\n@media screen and (max-height: 768px) {\r\n  .ivu-form-item {\r\n    margin-bottom: 4px;\r\n  }\r\n  .ivu-form-item-error {\r\n    margin-bottom: 14px;\r\n  }\r\n  .mt60{margin: 20px auto 10px auto}\r\n}\r\n\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/NewPassword/Index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container--fluid\"},[_c('div',{staticClass:\"main\",attrs:{\"id\":\"fpw\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":245}},[_c('table',{staticClass:\"ititle\"},[_c('thead',[(_vm.ind==0? _vm.classNow='nowC': _vm.classNow='passC')?_c('th',{staticClass:\"nowC comC\",class:_vm.classNow},[_c('div',[_vm._v(\"1\")]),_c('span',[_vm._v(\"填写账户名\")])]):_vm._e(),_vm._v(\" \"),_c('th',{staticClass:\"defaultC comC\",attrs:{\"id\":\"twoth\"}},[_c('div',[_vm._v(\"2\")]),_c('span',[_vm._v(\"验证身份\")])]),_vm._v(\" \"),_c('th',{staticClass:\"defaultC comC\",attrs:{\"id\":\"threeth\"}},[_c('div',[_vm._v(\"3\")]),_c('span',[_vm._v(\"设置新密码\")])]),_vm._v(\" \"),_c('th',{staticClass:\"defaultC comC\",attrs:{\"id\":\"four\"}},[_c('div',[_vm._v(\"4\")]),_c('span',[_vm._v(\"重置成功\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"mt60\"},[(_vm.ind==0)?_c('div',[_c('inputItem',{ref:\"username\",attrs:{\"labelVal\":{label:\"账号\"},\"model\":_vm.formValidate,\"prop\":\"username\",\"plh\":\" 请输入登录账号\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.ind==1)?_c('div',[_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"用户名：\",\"prop\":\"username\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.username))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"企业名称：\",\"prop\":\"orgname\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.orgname))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"已验证手机：\",\"prop\":\"mobile\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.mobile))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"验证码：\",\"prop\":\"phoneCode\"}},[_c('div',{staticClass:\"NumCode\"},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"请输入验证码\"},model:{value:(_vm.formValidate.phoneCode),callback:function ($$v) {_vm.$set(_vm.formValidate, \"phoneCode\", $$v)},expression:\"formValidate.phoneCode\"}}),_vm._v(\" \"),_c('Button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.disabledBtn),expression:\"disabledBtn\"}],attrs:{\"disabled\":\"\"}},[_vm._v(_vm._s(_vm.time)+\"s后可重新获取\")]),_vm._v(\" \"),_c('Button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.disabledBtn),expression:\"!disabledBtn\"}],on:{\"click\":_vm.getNumCode}},[_vm._v(\"获取验证码\")])],1),_vm._v(\" \"),_c('label',{staticClass:\"rightTip text-center\"},[_vm._v(\"请于2分钟内查收手机短信，并填写短信中的验证码\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\"},[_c('i',{staticClass:\" icon hx hx-hx_quangantanhao fzth\"}),_vm._v(\" \"),_c('div',{staticClass:\"ml210\"},[_vm._v(\"没收到短信验证码\")]),_vm._v(\" \"),_c('div',{staticClass:\"ml210\"},[_vm._v(\"1、网络通讯异常可能会造成短信丢失，请重新获取或稍后再试。\")]),_vm._v(\" \"),_c('div',{staticClass:\"ml210\"},[_vm._v(\"2、请核实手机是否已欠费停机，或者屏蔽了系统短信。\")])])],1)]):_vm._e(),_vm._v(\" \"),(_vm.ind==2)?_c('div',[_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"用户名：\",\"prop\":\"username\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.username))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"企业名称：\",\"prop\":\"orgname\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.orgname))])])],1),_vm._v(\" \"),_c('div',{staticClass:\"verificationCode publicInput\"},[_c('FormItem',{staticClass:\"formItem\",attrs:{\"label\":\"已验证手机：\",\"prop\":\"mobile\"}},[_c('label',{staticClass:\"rightTip text-center lh40\"},[_vm._v(_vm._s(_vm.formValidate.mobile))])])],1),_vm._v(\" \"),_c('inputItem',{attrs:{\"labelVal\":{label:\"输入新密码\",tip:\"密码为6-20位英文字母、数字的组合\"},\"model\":_vm.formValidate,\"prop\":\"password\",\"inputType\":\"password\"}}),_vm._v(\" \"),_c('inputItem',{attrs:{\"labelVal\":{label:\"确认新密码\",tip:\"请确保两次密码输入保持一致\"},\"model\":_vm.formValidate,\"prop\":\"confirmPwd\",\"inputType\":\"password\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.ind==3)?_c('div',[_c('div',{staticClass:\"congr\"},[_vm._v(\"恭喜您！密码设置成功，请重新登录！\")]),_vm._v(\" \"),_c('div',{staticClass:\"relogin\"},[_vm._v(\"系统将在\"),_c('span',{staticClass:\"textred\"},[_vm._v(_vm._s(_vm.fsecond))]),_c('span',[_vm._v(\"秒后自动调整至登录页面，您可以选择直接登陆\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"pull-right relot\",attrs:{\"to\":\"/login\"}},[_vm._v(\"返回登录\")])],1)]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"registerWrap w1198\"},[_c('p',{staticClass:\"errRemind\"},[_vm._v(_vm._s(_vm.errMsg))]),_vm._v(\" \"),(_vm.ind==0 || _vm.ind==1 || _vm.ind==2)?_c('Button',{staticClass:\"registerBtn\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit(\"formValidate\")}}},[_vm._v(\"下一步\")]):_vm._e()],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-23c5a37b\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/NewPassword/Index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23c5a37b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./NewPassword.scss\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23c5a37b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../Register/Register.scss\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23c5a37b\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../assets/iconfont/iconfont.css\")\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23c5a37b\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=3!./Index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./Index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23c5a37b\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./Index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23c5a37b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/NewPassword/Index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}