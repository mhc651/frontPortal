{"version":3,"sources":["webpack:///src/components/BindCa.vue","webpack:///./src/components/BindCa.vue?5437","webpack:///./src/components/BindCa.vue","webpack:///src/views/RegisterSuccess/RegisterSuccess.vue","webpack:///./src/views/RegisterSuccess/RegisterSuccess.vue?e4ae","webpack:///./src/views/RegisterSuccess/RegisterSuccess.vue"],"names":["BindCa","components","inputItem","complexInputItem","data","showForm","showTipMsg","showTD","showT","lookBindCa","picCode","phoneVcode","ind","disabledBtn","time","timer","showxlh","showSave","caL_errMsg","dsb","fruit","entryt","modal3","fsecond","ftimer","fsd","errMsg","cabind_error","baseMaterError","reBindPerrMsg","bindCaUpdata","formValidate","userOldPassword","userNewPassword","confirmPwd","name","applyOrg","bindingOrg","serialNum","express","interest","account","realname","mobile","personid","remark","phone","phoneCode","NewPhone","vcode","nPhoneCode","ruleValidate","computed","extends_default","Object","vuex_esm","path","this","$route","fullPath","created","rules","getUserInfo","methods","$store","state","org_status","org_name","relogin","loginOut","$router","push","fiveCountd","to","clearInterval","setInterval","window","location","href","bind","insCustom","objks","document","getElementById","object","repSerial","updata","_this","console","log","stringify_default","getSerials","then","res","success","content","retRes","generalName","username","getSerial","_this2","browVs","sessionStorage","getItem","getRandom","serRandom","serR","me","restatus","socket","getcert","getCertBsfNoIE","onmessage","msg","dealWithResponseMessage","onclose","onerror","getCertBsf","bindCas","_this3","$refs","validate","valid","length","check","type","bindCa","errmsg","required","message","trigger","components_BindCa","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","width","model","value","callback","$$v","expression","staticStyle","color","text-align","slot","_v","ref","class","label-width","id","label","prop","$set","placeholder","on","click","_e","_s","$event","staticRenderFns","RegisterSuccess","showMode","org","query","mode","modal1","withdrawState","screenHeight","innerHeight","documentElement","clientHeight","body","__webpack_require__","normalizeComponent","ssrContext","mounted","self","init","onresize","closeOpBCa","opBCa","validBindCa","err","viewInfo","goToLogin","setTimeout","headerH","offsetHeight","footerH","containerH","containerC","wh","actualH","marT","style","marginTop","marginBottom","ok","uname","innerText","revoke","cancel","watch","val","RegisterSuccess_RegisterSuccess","title","class-name","on-ok","on-cancel","RegisterSuccess_Component","RegisterSuccess_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/7.c3d707bf76dad146c743.js","sourcesContent":["<template>\r\n    <!--<Modal v-model=\"modal3\" width=\"600\" class=\"modal3\">-->\r\n    <Modal v-model=\"modal3\" width=\"600\" class=\"modal3\">\r\n      <p slot=\"header\" style=\"color:#1c2438;text-align:left\">\r\n        <Icon type=\"ios-information-circle\"></Icon>\r\n        <span>CA绑定</span>\r\n      </p>\r\n\r\n      <Form ref=\"formValidates\" v-if=\"showForm\" :model=\"formValidate\" :rules=\"ruleValidate\" :label-width=\"90\" id=\"caBindf\" :class='lookBindCa?\"form---disabled\":\"\"'>\r\n        <FormItem label=\"账号\" prop=\"name\">\r\n          <Input v-model=\"formValidate.name\" class=\"noEdit\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"报名企业\" prop=\"applyOrg\">\r\n          <Input v-model=\"formValidate.applyOrg\" class=\"noEdit\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"绑定企业\" prop=\"bindingOrg\">\r\n          <Input v-model=\"formValidate.bindingOrg\" class=\"noEdit\" placeholder=\"请获取绑定企业\"></Input>\r\n        </FormItem>\r\n        <FormItem label=\"证书序列号\" prop=\"serialNum\">\r\n          <Input v-model=\"formValidate.serialNum\" class=\"noEdit\" placeholder=\"请获取正确序列号\"></Input>\r\n          <div class=\"xlh\" @click=\"getSerial\" v-if=\"showxlh\">获取序列号</div>\r\n        </FormItem>\r\n\r\n        <FormItem label=\"通用名校验\" prop=\"interest\">\r\n          <CheckboxGroup v-model=\"formValidate.interest\">\r\n            <Checkbox label=\"（校验企业/机构名称与绑定企业是否一致）\"></Checkbox>\r\n          </CheckboxGroup>\r\n        </FormItem>\r\n        <FormItem label=\"有效期\" prop=\"express\">\r\n          <Input v-model=\"formValidate.express\" class=\"noEdit\" placeholder=\"请获取正确有效期\"></Input>\r\n        </FormItem>\r\n        <FormItem style=\"text-align: center\" v-if=\"showSave\">\r\n          <div><p class='errRemindBindCa'>{{cabind_error}}</p></div>\r\n          <Button type=\"primary\" @click=\"bindCas('formValidates')\" style=\"width: 150px\">保存</Button>\r\n          <!--<Button @click=\"handleReset('formValidate')\" style=\"margin-left: 8px\">Reset</Button>-->\r\n        </FormItem>\r\n      </Form>\r\n\r\n      <div slot=\"footer\" id=\"calerrordiv\" class=\"talignc\" v-if=\"showTipMsg\">\r\n        <div>{{caL_errMsg}}</div>\r\n        <!--<Button type=\"primary\" size=\"large\" class=\"butWid mcenter\"  @click='updatePwd(\"formValidate\")'>保存</Button>-->\r\n      </div>\r\n\r\n      <div id=\"caBindNext\" v-if=\"showTD\">\r\n        <div  class=\"setsuctitle\"><span>恭喜您！CA绑定成功，请继续完善资料！</span></div>\r\n        <div  class=\"setsuctip\"><span>系统将在</span><span class=\"textred\">{{fsecond}}</span>秒后自动自动回关闭绑定页面</div>\r\n      </div>\r\n\r\n    </Modal>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * 显示用户名和设置的通用头部\r\n */\r\nimport { mapState, mapActions } from 'vuex'\r\nimport inputItem from '../components/complexInputItem'\r\nimport getcert from '../assets/js/getcert'\r\nimport validatejs from '../assets/js/validate'\r\nexport default {\r\n  components: {\r\n    inputItem\r\n  },\r\n  data() {\r\n    return {\r\n      showForm: true,\r\n      showTipMsg: true,\r\n      showTD: false,\r\n      showT: true,\r\n      lookBindCa: '',\r\n      picCode: '请输入图文验证码',\r\n      phoneVcode: '请输入短信验证码',\r\n      ind: '1',\r\n      disabledBtn: false,\r\n      time: 120,\r\n      timer: null,\r\n      showxlh: true,\r\n      showSave: true,\r\n      caL_errMsg: '首次登录时，请下载并安装\"CA证书客户端\"，仅支持IE浏览器。',\r\n      dsb : true,\r\n      fruit:['（自动校验报名企业与绑定企业是否一致）'],\r\n      entryt: 1,\r\n      modal3: true,\r\n      fsecond: 5,\r\n      ftimer: null,\r\n      fsd: true,\r\n      errMsg: '',\r\n      cabind_error: '',\r\n      baseMaterError: '',\r\n      reBindPerrMsg: '',\r\n      bindCaUpdata: '',\r\n      // 表单\r\n      formValidate: {\r\n        userOldPassword: '',\r\n        userNewPassword: '',\r\n        confirmPwd: '',\r\n        name: '',\r\n        applyOrg: '',\r\n        bindingOrg: '',\r\n        serialNum: '',\r\n        express: '',\r\n        interest: ['（校验企业/机构名称与绑定企业是否一致）'],\r\n        account: '',\r\n        realname: '',\r\n        mobile: '',\r\n        personid: '',\r\n        remark: '',\r\n        phone: '',\r\n        phoneCode: '',\r\n        NewPhone: '',\r\n        vcode: '',\r\n        nPhoneCode: ''\r\n      },\r\n      ruleValidate: {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['app','entry','org_status']),\r\n    path() {\r\n      return this.$route.fullPath\r\n    }\r\n  },\r\n  created() {\r\n    this.rules()\r\n    this.getUserInfo()\r\n  },\r\n  methods: {\r\n    ...mapActions(['loginOut','getSerials','getRandom','bindCa','validBindCa']),\r\n    getUserInfo: function() {\r\n      this.cabind_error = ''\r\n      //this.$refs['formValidates'].resetFields()\r\n      this.formValidate.name = this.$store.state.org_status.account\r\n      this.formValidate.applyOrg = this.$store.state.org_status.org_name\r\n      this.showForm = true\r\n      this.showTipMsg = true\r\n      this.showTD = false\r\n      // document.getElementById(\"caBindNext\").setAttribute(\"class\",\"dispnone\");\r\n      // document.getElementById(\"caBindf\").style.display = \"block\"\r\n      // document.getElementById(\"calerrordiv\").style.display = \"block\"\r\n    },\r\n    //重新登陆\r\n    relogin: function(){\r\n      this.loginOut()\r\n      this.$router.push('/login')\r\n    },\r\n    //倒计时\r\n    fiveCountd: function(to){\r\n      this.fsecond = 5\r\n      clearInterval(this.ftimer)\r\n      this.ftimer = null\r\n      if(this.fsd){\r\n        this.ftimer = setInterval(function(){\r\n          this.fsecond--\r\n          if(this.fsecond==0){\r\n            clearInterval(this.ftimer);\r\n            window.location.href = '/dws/ocs/main/menu'\r\n            this.modal3 = false\r\n          }\r\n        }.bind(this),1000)\r\n      }\r\n\r\n    },\r\n    insCustom() {\r\n      var objks = document.getElementById(\"obj\");\r\n      if (objks == null || objks.object == null){\r\n        this.cabind_error = \"您尚未安装证书客户端，请通过登录页面底部的链接下载最新版本证书客户端并安装。\";\r\n        //this.cabind_error = \"您未使用新版证书或未正确安装证书驱动\";\r\n        return false;\r\n      } else {\r\n        this.cabind_error = \"\";\r\n      }\r\n    },\r\n    repSerial(updata) {\r\n      console.log(\"1\"+JSON.stringify(updata))\r\n      if(updata){\r\n        this.getSerials(updata).then(/*获取序列号*/\r\n          res => {\r\n            if (res.success) {\r\n              console.log(\"2\"+JSON.stringify(res.content))\r\n              let retRes = res.content\r\n              this.formValidate.bindingOrg = retRes.generalName\r\n              this.formValidate.serialNum = retRes.serialNum\r\n              this.formValidate.express = retRes.express\r\n              updata.applyOrg = this.formValidate.applyOrg\r\n              updata.bindingOrg = this.formValidate.bindingOrg\r\n              updata.serialNum = this.formValidate.serialNum\r\n              updata.express = this.formValidate.express\r\n              updata.username = this.formValidate.name\r\n\r\n              this.bindCaUpdata = updata\r\n            }\r\n          }\r\n        )\r\n\r\n      }\r\n    },\r\n    getSerial() {\r\n      var browVs = sessionStorage.getItem(\"browV\")\r\n      /*IE浏览器*/\r\n      if(browVs != 'edge' && browVs != -1 ){\r\n        this.insCustom()\r\n      }\r\n      this.getRandom().then(res => {/*获取随机数*/\r\n        console.log(res)\r\n        this.serRandom = res.content\r\n        let updata = 0, serR = res.content, me = this, restatus = 0;\r\n\r\n        /*非IE浏览器*/\r\n        if(browVs == 'edge' || browVs == -1 ){\r\n          //updata = getcert.getCertBsfNoIE(this.serRandom)\r\n          // 执行接收消息事件\r\n          let socket = getcert.getCertBsfNoIE(this.serRandom)\r\n          socket.onmessage = function (msg)\r\n          {\r\n            if (typeof msg.data == \"string\")\r\n            {\r\n              updata =  getcert.dealWithResponseMessage(msg.data, serR)/*获取证书，签串*/\r\n              if(updata == 1){\r\n                me.cabind_error = \"未检测到UKey或Ukey未登陆\"\r\n                return\r\n              }\r\n              me.repSerial(updata)\r\n            }\r\n          }\r\n          socket.onclose = function (msg)\r\n          {\r\n            console.log(\"socket closed!\")\r\n            if (restatus != 1){\r\n              restatus = 2\r\n              me.cabind_error = \"请重新连接\";\r\n            }\r\n          };\r\n          socket.onerror  = function (msg)\r\n          {\r\n            console.log(\"socket error!\")\r\n            restatus = 1\r\n            me.cabind_error = \"您未使用新版证书或未正确安装证书驱动\";\r\n          }\r\n        }else{/*IE浏览器*/\r\n          updata = getcert.getCertBsf(this.serRandom) /*获取证书，签串*/\r\n          if(updata == 1){\r\n            this.cabind_error = \"未检测到UKey或Ukey未登陆\"\r\n            return\r\n          }\r\n          this.repSerial(updata)\r\n\r\n        }\r\n\r\n      })\r\n    },\r\n    bindCas(){\r\n      this.$refs['formValidates'].validate(valid => {\r\n        // 判断是否通过本地验证\r\n        if (!valid) return\r\n        if(this.formValidate.interest.length>0){\r\n          this.bindCaUpdata.check = 1\r\n        }else{\r\n          this.bindCaUpdata.check = 2\r\n        }\r\n        //alert(JSON.stringify(this.bindCaUpdata))\r\n        this.bindCaUpdata.type =  'portal'\r\n        this.bindCa(this.bindCaUpdata).then(\r\n          res => {\r\n            //console.log(\"res is: \"+JSON.stringify(res))\r\n            if(res.success){\r\n              this.showForm = false\r\n              this.showTipMsg = false\r\n              this.showTD = true\r\n              // document.getElementById(\"caBindNext\").removeAttribute(\"class\",\"dispnone\");\r\n              // document.getElementById(\"caBindf\").style.display = \"none\"\r\n              // document.getElementById(\"calerrordiv\").style.display = \"none\"\r\n              this.fiveCountd(1)\r\n            }\r\n          },\r\n          res => {\r\n            //console.log(\"res2 is: \"+JSON.stringify(res))\r\n            this.cabind_error = res.errmsg\r\n          }\r\n        )\r\n      })\r\n    },\r\n\r\n    /*初始化规则*/\r\n    rules() {\r\n      this.ruleValidate = {\r\n        name: [\r\n          { required: true, message: '账号不能为空', trigger: 'blur' }\r\n        ],\r\n        applyOrg: [\r\n          { required: true, message: '报名企业不能为空', trigger: 'blur' }\r\n        ],\r\n        bindingOrg: [\r\n          { required: true, message: '绑定企业不能为空', trigger: 'blur' }\r\n        ],\r\n        serialNum: [\r\n          { required: true, message: '证书序列号不能为空', trigger: 'blur' }\r\n        ],\r\n        express: [\r\n          { required: true, message: '有效期不能为空', trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n<!--<style lang=\"scss\" src=\"../views/Register/Register.scss\" type=\"text/css\"></style>-->\r\n\r\n// 用户导航\r\n<style lang=\"scss\" scoped>\r\n.header {\r\n  background: #fff;\r\n  position: relative;\r\n  width: 100%;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 1;\r\n  height: 70px;\r\n  .container {\r\n    padding-bottom: 15px;\r\n    padding-top: 15px;\r\n    height: 70px;\r\n  }\r\n  .logo {\r\n    height: 100%;\r\n    > * {\r\n      display: inline-block;\r\n      vertical-align: middle;\r\n    }\r\n    img {\r\n      height: 100%;\r\n    }\r\n  }\r\n  .title {\r\n    font-size: 20px;\r\n    color: #333;\r\n    line-height: 1.2;\r\n  }\r\n  .title::before {\r\n    content: '|';\r\n    margin-left: 15px;\r\n    margin-right: 15px;\r\n    color: #ccc;\r\n  }\r\n  .nav a,.orgname {\r\n    &::after {\r\n      content: '|';\r\n      margin-left: 15px;\r\n      margin-right: 15px;\r\n    }\r\n  }\r\n  .iphone {\r\n    font-size: 24px;\r\n    color: #1686ea;\r\n    background-image: url(../assets/images/iphone.png);\r\n    background-position: left center;\r\n    background-repeat: no-repeat;\r\n    padding-left: 30px;\r\n  }\r\n  .orgname{font-size: 16px;color:#606266}\r\n  .headpic{\r\n    background-image: url(../assets/images/headpic.png);\r\n    width: 30px;\r\n    height:30px;\r\n    margin-right: 15px;\r\n    margin-top: -3px;\r\n  }\r\n  .fleft{float: left}\r\n  .uname{font-size: 16px;margin-right: 15px;}\r\n  .martop10{margin-top: 10px}\r\n  .setting {\r\n    width: 30px;\r\n    height: 30px;\r\n    cursor: pointer;\r\n    margin-top: -3px;\r\n  }\r\n  .list {\r\n    li {\r\n      color: #606266;\r\n      font-size: 14px;\r\n      height: 28px;\r\n      line-height: 28px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n.publicInput /deep/ .ivu-form-item-error-tip {\r\n  left: 112px;\r\n}\r\n.modal5 .publicInput /deep/ .ivu-form-item-error-tip {\r\n  left: 116px;\r\n}\r\n.publicInput /deep/ .ivu-input-wrapper {\r\n  //width: 448px;\r\n}\r\n.dispnone{display: none}\r\n.butWid{width: 250px}\r\n.setsuctitle{margin: 0 auto;text-align: center;font-size: 24px}\r\n.setsuctip{margin: 0 auto;text-align: center;font-size: 14px}\r\n.mcenter{margin: 0 auto}\r\n.talignc{text-align: center}\r\n.textred{color: red;margin: 0 10px}\r\n.relot{\r\n  color: #2d8cf0;\r\n  cursor: pointer;\r\n}\r\n.errRemind{\r\n  text-align: center;\r\n  margin-bottom: 10px;\r\n  font-size: 16px;\r\n  color: red;\r\n}\r\n.errRemindBindCa{\r\n  text-align: left;\r\n  margin-bottom: 10px;\r\n  font-size: 16px;\r\n  color: red;\r\n  width: 340px;\r\n}\r\n.xlh{\r\n  width: 150px;background-color: #2d8cf0;color: #fff;text-align: center;position: relative;margin: -35px 0 0 300px;border-radius: 3px;cursor: pointer\r\n}\r\n.getcode{\r\n  position: relative;left: 300px;top: -40px;\r\n  width: 153px;\r\n  height: 40px;\r\n  font-size: 14px;\r\n  color: #fff;\r\n  background: #1686EA;\r\n  border: none;\r\n  border-radius: 6px;\r\n  box-shadow: none;\r\n}\r\n.gtcods{left:410px}\r\n.noEdit{\r\n  pointer-events: none;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/BindCa.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{staticClass:\"modal3\",attrs:{\"width\":\"600\"},model:{value:(_vm.modal3),callback:function ($$v) {_vm.modal3=$$v},expression:\"modal3\"}},[_c('p',{staticStyle:{\"color\":\"#1c2438\",\"text-align\":\"left\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Icon',{attrs:{\"type\":\"ios-information-circle\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"CA绑定\")])],1),_vm._v(\" \"),(_vm.showForm)?_c('Form',{ref:\"formValidates\",class:_vm.lookBindCa?\"form---disabled\":\"\",attrs:{\"model\":_vm.formValidate,\"rules\":_vm.ruleValidate,\"label-width\":90,\"id\":\"caBindf\"}},[_c('FormItem',{attrs:{\"label\":\"账号\",\"prop\":\"name\"}},[_c('Input',{staticClass:\"noEdit\",model:{value:(_vm.formValidate.name),callback:function ($$v) {_vm.$set(_vm.formValidate, \"name\", $$v)},expression:\"formValidate.name\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"报名企业\",\"prop\":\"applyOrg\"}},[_c('Input',{staticClass:\"noEdit\",model:{value:(_vm.formValidate.applyOrg),callback:function ($$v) {_vm.$set(_vm.formValidate, \"applyOrg\", $$v)},expression:\"formValidate.applyOrg\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"绑定企业\",\"prop\":\"bindingOrg\"}},[_c('Input',{staticClass:\"noEdit\",attrs:{\"placeholder\":\"请获取绑定企业\"},model:{value:(_vm.formValidate.bindingOrg),callback:function ($$v) {_vm.$set(_vm.formValidate, \"bindingOrg\", $$v)},expression:\"formValidate.bindingOrg\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"证书序列号\",\"prop\":\"serialNum\"}},[_c('Input',{staticClass:\"noEdit\",attrs:{\"placeholder\":\"请获取正确序列号\"},model:{value:(_vm.formValidate.serialNum),callback:function ($$v) {_vm.$set(_vm.formValidate, \"serialNum\", $$v)},expression:\"formValidate.serialNum\"}}),_vm._v(\" \"),(_vm.showxlh)?_c('div',{staticClass:\"xlh\",on:{\"click\":_vm.getSerial}},[_vm._v(\"获取序列号\")]):_vm._e()],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"通用名校验\",\"prop\":\"interest\"}},[_c('CheckboxGroup',{model:{value:(_vm.formValidate.interest),callback:function ($$v) {_vm.$set(_vm.formValidate, \"interest\", $$v)},expression:\"formValidate.interest\"}},[_c('Checkbox',{attrs:{\"label\":\"（校验企业/机构名称与绑定企业是否一致）\"}})],1)],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"有效期\",\"prop\":\"express\"}},[_c('Input',{staticClass:\"noEdit\",attrs:{\"placeholder\":\"请获取正确有效期\"},model:{value:(_vm.formValidate.express),callback:function ($$v) {_vm.$set(_vm.formValidate, \"express\", $$v)},expression:\"formValidate.express\"}})],1),_vm._v(\" \"),(_vm.showSave)?_c('FormItem',{staticStyle:{\"text-align\":\"center\"}},[_c('div',[_c('p',{staticClass:\"errRemindBindCa\"},[_vm._v(_vm._s(_vm.cabind_error))])]),_vm._v(\" \"),_c('Button',{staticStyle:{\"width\":\"150px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.bindCas('formValidates')}}},[_vm._v(\"保存\")])],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.showTipMsg)?_c('div',{staticClass:\"talignc\",attrs:{\"slot\":\"footer\",\"id\":\"calerrordiv\"},slot:\"footer\"},[_c('div',[_vm._v(_vm._s(_vm.caL_errMsg))])]):_vm._e(),_vm._v(\" \"),(_vm.showTD)?_c('div',{attrs:{\"id\":\"caBindNext\"}},[_c('div',{staticClass:\"setsuctitle\"},[_c('span',[_vm._v(\"恭喜您！CA绑定成功，请继续完善资料！\")])]),_vm._v(\" \"),_c('div',{staticClass:\"setsuctip\"},[_c('span',[_vm._v(\"系统将在\")]),_c('span',{staticClass:\"textred\"},[_vm._v(_vm._s(_vm.fsecond))]),_vm._v(\"秒后自动自动回关闭绑定页面\")])]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-a64b405e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/BindCa.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a64b405e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./BindCa.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./BindCa.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./BindCa.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a64b405e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./BindCa.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-a64b405e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/BindCa.vue\n// module id = null\n// module chunks = ","<template>\r\n<div class=\"register-success\">\r\n\r\n  <div class=\"container\" ref=\"containerC\">\r\n    <div class=\"success-image\">\r\n      <Icon type=\"checkmark-circled\" class=\"iconC\"></Icon>\r\n    </div>\r\n    <div class=\"success-text\">恭喜您！注册成功</div>\r\n\r\n    <!--<div>old</div>-->\r\n    <!--<div class=\"success-text-note\">信息正在审核，请耐心等待！<p>登录账号：<span id=\"usernames\">{{org_status.account}}</span></p></div>-->\r\n    <!--<div class=\"success-current\">当前状态：-->\r\n      <!--<Button style=\"cursor: auto;\" type=\"ghost\" shape=\"circle\" class=\"current-btn\">-->\r\n      <!--<span>{{org_status.status}}</span>-->\r\n      <!--</Button>-->\r\n    <!--</div>-->\r\n\r\n    <div class=\"success-text-note\"><p>登录账号：<span id=\"usernames\">{{org_status.account}}</span></p></div>\r\n    <div class=\"success-line\"></div>\r\n    <div class=\"success-btnM\">\r\n      <!--<Button class=\"btnM-bt\"  v-if='!withdrawState' type=\"primary\" @click=\"modal1 = true\">撤回</Button>-->\r\n      <!--<Button class=\"btnM-bt\" @click=\"viewInfo()\">-->\r\n        <!--查看我提交的资料-->\r\n      <!--</Button>-->\r\n\r\n      <Button class=\"btnM-bt\"  v-if='!withdrawState' type=\"primary\" @click='relogin'>返回登录</Button>\r\n      <Button class=\"btnM-bt\" @click=\"opBCa\">\r\n        完善资料\r\n      </Button>\r\n    </div>\r\n  </div>\r\n  <Modal\r\n    v-model=\"modal1\"\r\n    title=\"操作确认\"\r\n    class-name=\"vertical-center-modal\"\r\n    @on-ok=\"ok\"\r\n    @on-cancel=\"cancel\">\r\n    <p>确认撤回当前待审核信息，重新提交？</p>\r\n  </Modal>\r\n  <div v-if=\"showMode\">\r\n    <bind-ca />\r\n  </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport { mapState, mapActions } from 'vuex'\r\nimport bindCa from '../../components/BindCa'\r\nexport default {\r\n  name: 'RegisterSuccess',\r\n  data() {\r\n    return {\r\n      showMode: false,\r\n      //是否是医疗机构1代表医疗机构，否则就是企业\r\n      org:this.$route.query.mode,\r\n      modal1: false,\r\n      withdrawState: false,\r\n      screenHeight:\r\n        window.innerHeight ||\r\n        document.documentElement.clientHeight ||\r\n        document.body.clientHeight\r\n    }\r\n  },\r\n  components: {\r\n    bindCa\r\n  },\r\n  mounted() {\r\n    let self = this\r\n    self.init()\r\n    //this.getOrgStatus()\r\n    window.onresize = () => {\r\n      return (() => {\r\n        window.screenHeight =\r\n          window.innerHeight ||\r\n          document.documentElement.clientHeight ||\r\n          document.body.clientHeight\r\n        self.screenHeight = window.screenHeight\r\n      })()\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['org_status'])\r\n  },\r\n  methods: {\r\n    ...mapActions(['getOrgStatus', 'revoke','loginOut','validBindCa']),\r\n    closeOpBCa: function(){\r\n      this.showMode = false\r\n    },\r\n    opBCa: function(){\r\n      this.showMode = false\r\n      this.validBindCa().then(\r\n        res => {\r\n          console.log(\"已经绑定CA：\"+JSON.stringify(res))\r\n          if(res.success){\r\n            let conten = res.content\r\n            window.location.href = '/dws/ocs/main/menu'\r\n          }\r\n        },\r\n        err => {\r\n          console.log(\"未绑定CA：\"+JSON.stringify(err))\r\n          this.showMode = true\r\n        }\r\n      )\r\n    },\r\n    //重新登陆\r\n    relogin: function(){\r\n      this.loginOut()\r\n      this.$router.push('/login')\r\n    },\r\n    viewInfo() {\r\n      if(this.org==1){// 查看医疗机构注册页面\r\n        //this.$router.push('/register1?reset=1&m='+this.org)\r\n        this.$router.push('/register1?look=1')\r\n      }else{// 查看企业注册页面\r\n        this.$router.push('/register?look=1')\r\n      }\r\n    },\r\n    goToLogin() {\r\n      this.$router.push('/login')\r\n    },\r\n    init() {\r\n      setTimeout(() => {\r\n        let headerH = document.getElementById(\"header\").offsetHeight\r\n        let footerH = document.getElementById(\"footer\").offsetHeight\r\n        //let headerH = 64\r\n        //let footerH = 102\r\n        let containerH = this.$refs.containerC.offsetHeight\r\n        let wh =\r\n          window.innerHeight ||\r\n          document.documentElement.clientHeight ||\r\n          document.body.clientHeight\r\n        let actualH = headerH + footerH + containerH\r\n        if (actualH < wh) {\r\n          let marT = wh - actualH\r\n          this.$refs.containerC.style.marginTop = marT / 2 + 'px'\r\n          this.$refs.containerC.style.marginBottom = marT / 2 + 'px'\r\n        } else {\r\n          this.$refs.containerC.style.marginTop = '43px'\r\n          this.$refs.containerC.style.marginBottom = '43px'\r\n        }\r\n      }, 0)\r\n    },\r\n    ok() {\r\n      // 撤回注册\r\n      let uname = document.getElementById(\"usernames\").innerText\r\n      this.revoke({username: uname}).then(res => {\r\n        if (res.success) {\r\n          this.withdrawState = true\r\n        }\r\n      })\r\n      if(this.org==1){// 编辑医疗机构注册页面\r\n        this.$router.push('/register1?reset=1&flag=0')\r\n      }else{// 编辑企业注册页面\r\n        this.$router.push('/register?reset=1&flag=0')\r\n      }\r\n\r\n    },\r\n    cancel() {\r\n      // this.$Message.info('Clicked cancel')\r\n    }\r\n  },\r\n  watch: {\r\n    screenHeight(val) {\r\n      this.init()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style src=\"./RegisterSuccess.scss\" lang=\"scss\"></style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/RegisterSuccess/RegisterSuccess.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"register-success\"},[_c('div',{ref:\"containerC\",staticClass:\"container\"},[_c('div',{staticClass:\"success-image\"},[_c('Icon',{staticClass:\"iconC\",attrs:{\"type\":\"checkmark-circled\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"success-text\"},[_vm._v(\"恭喜您！注册成功\")]),_vm._v(\" \"),_c('div',{staticClass:\"success-text-note\"},[_c('p',[_vm._v(\"登录账号：\"),_c('span',{attrs:{\"id\":\"usernames\"}},[_vm._v(_vm._s(_vm.org_status.account))])])]),_vm._v(\" \"),_c('div',{staticClass:\"success-line\"}),_vm._v(\" \"),_c('div',{staticClass:\"success-btnM\"},[(!_vm.withdrawState)?_c('Button',{staticClass:\"btnM-bt\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.relogin}},[_vm._v(\"返回登录\")]):_vm._e(),_vm._v(\" \"),_c('Button',{staticClass:\"btnM-bt\",on:{\"click\":_vm.opBCa}},[_vm._v(\"\\r\\n        完善资料\\r\\n      \")])],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"操作确认\",\"class-name\":\"vertical-center-modal\"},on:{\"on-ok\":_vm.ok,\"on-cancel\":_vm.cancel},model:{value:(_vm.modal1),callback:function ($$v) {_vm.modal1=$$v},expression:\"modal1\"}},[_c('p',[_vm._v(\"确认撤回当前待审核信息，重新提交？\")])]),_vm._v(\" \"),(_vm.showMode)?_c('div',[_c('bind-ca')],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-6d196a3a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/RegisterSuccess/RegisterSuccess.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6d196a3a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!./RegisterSuccess.scss\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./RegisterSuccess.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./RegisterSuccess.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6d196a3a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./RegisterSuccess.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/RegisterSuccess/RegisterSuccess.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}