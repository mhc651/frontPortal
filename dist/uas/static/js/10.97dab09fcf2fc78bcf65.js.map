{"version":3,"sources":["webpack:///src/views/Review/index.vue","webpack:///./src/views/Review/index.vue?658c","webpack:///./src/views/Review/index.vue"],"names":["Review","name","data","orgstatus","reviewData","01","title","icon","color","content","1","2","4","computed","extends_default","Object","vuex_esm","this","org_status","flag","state","JSON","parse","stringify_default","created","gtOrgStatus","goBack","watch","curVal","oldVal","console","log","methods","sessionStorage","getItem","$store","app","_this","getOrgStatus","then","res","cancelOrg","_this2","$Modal","confirm","onOk","uname","document","getElementById","innerText","mode","$route","query","revoke","username","success","$router","push","register","l","arguments","length","undefined","path","views_Review","render","_vm","_h","$createElement","_c","_self","staticClass","class","attrs","type","_v","_s","on","click","_e","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.97dab09fcf2fc78bcf65.js","sourcesContent":["<style lang=\"scss\" scoped>\r\n.container {\r\n  padding-top: 80px;\r\n  height: 457px;\r\n  background: #fff;\r\n}\r\np {\r\n  margin-top: 13px;\r\n}\r\n.failed-text-note {\r\n  font-size: 14px;\r\n  color: #909399;\r\n}\r\n\r\n// icon\r\n.iconC {\r\n  display: inline-block;\r\n  width: 112px;\r\n  height: 112px;\r\n  border-radius: 50%;\r\n  font-size: 112px;\r\n}\r\n// 审核不通过\r\n.color--red .iconC {\r\n  color: #f56c6c;\r\n}\r\n// 审核中\r\n.color--orange .iconC {\r\n  background: #ffba53;\r\n  color: #fff;\r\n}\r\n.color--ccc .iconC {\r\n  background: #e4e7ed;\r\n  color: #fff;\r\n}\r\n.success-line {\r\n  width: 100%;\r\n  height: 1px;\r\n  border-bottom: 1px dashed #e4e7ed;\r\n  margin-top: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n.btnM-bt.ivu-btn {\r\n  text-align: center;\r\n  // color: #1686EA;\r\n  // border: 2px solid #1686EA;\r\n  margin: 0 15px;\r\n  font-size: 16px;\r\n  font-weight: bold;\r\n  // background: #ffffff;\r\n}\r\n.btnM-bt {\r\n  min-width: 205px;\r\n  height: 60px;\r\n  color: #1686ea;\r\n  border: 1px solid #1686ea;\r\n  background: none;\r\n}\r\n</style>\r\n<template>\r\n<div class=\"container--fluid flex align-items--center\">\r\n  <!--<span>{{org_status}}</span>-->\r\n  <div class=\"container\"  v-if=\"data!=null\">\r\n    <!-- 审核内容 -->\r\n    <p class=\"text--center\" :class=\"data.color\" >\r\n      <Icon :type=\"data.icon\" class=\"iconC\"></Icon>\r\n    </p>\r\n    <p class=\"text--center text--h1 text--b\"> {{data.title}}</p>\r\n    <p class=\"text--center failed-text-note\">{{data.content}}</p>\r\n    <!-- 审核内容 end-->\r\n    <div>\r\n     <div class=\"success-line\"></div>\r\n     <div class=\"flex justify-content--center\">\r\n     <Button  v-if='this.org_status.flag == \"1\"' class=\"btnM-bt\" type=\"primary\" @click=\"cancelOrg\" >撤回</Button>\r\n     <!--1待审核和2审核中end-->\r\n     <Button v-if='this.org_status.flag == \"1\" ||this.org_status.flag == \"2\"'  class=\"btnM-bt\" type=\"primary\" @click=\"register(1)\" >查看我提交的资料</Button>\r\n\r\n     <!--4审核不通过end-->\r\n     <Button v-if='this.org_status.flag == \"4\"'  class=\"btnM-bt\" type=\"primary\" @click=\"register\" >去修改</Button>\r\n     </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n</template>\r\n<script>\r\nimport { mapActions, mapState } from 'vuex'\r\nexport default {\r\n  name: 'Review',\r\n  data() {\r\n    return {\r\n      orgstatus:'1',\r\n      reviewData: {\r\n        '01': {\r\n          title: '未提交',\r\n          icon: 'ios-more',\r\n          color: 'color--ccc',\r\n          content: '您还未提交资料，无法审核。'\r\n        },\r\n        '1': {\r\n          title: '待审核',\r\n          icon: 'ios-more',\r\n          color: 'color--ccc',\r\n          content: '等待审核，请耐心等待！'\r\n        },\r\n        '2': {\r\n          title: '审核中',\r\n          icon: 'ios-more',\r\n          color: 'color--orange',\r\n          content: '信息正在进行审核，请耐心等待。'\r\n        },\r\n        '4': {\r\n          title: '审核不通过',\r\n          icon: 'close-circled',\r\n          color: 'color--red',\r\n          content: '用户机构授权信息审核不通过，请修改资料后重新提交。'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['app','org_status']),\r\n    data() {\r\n      if(this.org_status.flag!=null){\r\n        let state = this.reviewData[this.org_status.flag]\r\n        //let msg = this.app.cause\r\n        let info = JSON.parse(JSON.stringify(state))\r\n        // 审核不通过提示\r\n        //if (msg) info.content = msg\r\n        return info\r\n\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.gtOrgStatus()\r\n    this.goBack()\r\n  },\r\n  watch: {\r\n    orgstatus: function(curVal,oldVal){\r\n      console.log(\"orgstatus cur val:\"+curVal+\" old val:\"+ oldVal);\r\n    }\r\n  },\r\n  methods: {\r\n    // ...mapActions(['withdraw']),\r\n    ...mapActions(['getOrgStatus','revoke']),\r\n    goBack() {\r\n      let uid = sessionStorage.getItem('uuid')\r\n      if(uid!=null){\r\n        this.$store.state.org_status = this.$store.state.app\r\n      }\r\n    },\r\n    gtOrgStatus() {\r\n       this.getOrgStatus().then(res => {\r\n        //console.log(\"hhhhhhhhh\"+JSON.stringify(res))\r\n        this.orgstatus = JSON.stringify(res)\r\n      })\r\n    },\r\n    /**\r\n     * 撤回\r\n     */\r\n    cancelOrg() {\r\n      this.$Modal.confirm({\r\n        title: '操作确认',\r\n        content: '确认撤回当前待审核信息，重新提交？',\r\n        onOk: () => {\r\n          // 撤回注册\r\n          let uname = document.getElementById(\"username\").innerText\r\n          let mode = this.$route.query.mode\r\n          this.revoke({username: uname}).then(res => {\r\n            if (res.success) {\r\n              this.gtOrgStatus()\r\n              //this.withdrawState = true\r\n            }\r\n          })\r\n          if(mode==1){// 编辑医疗机构注册页面\r\n            this.$router.push('/register1?reset=1&flag=0')\r\n          }else{// 编辑企业注册页面\r\n            this.$router.push('/register?reset=1&flag=0')\r\n          }\r\n        }\r\n      })\r\n    },\r\n    /**\r\n     * 前往注册\r\n     */\r\n    register(l = '') {\r\n      let mode = this.$route.query.mode, path=''\r\n      // 1医疗  2企业\r\n      // if(this.org_status.org_type!=null){\r\n      //   if (this.org_status.org_type === 'DIS') {/*生产企业*/\r\n      //     mode = 2\r\n      //   }else if(this.org_status.org_type === 'HOS'){/*医疗机构*/\r\n      //     mode = 1\r\n      //   }\r\n      // }\r\n\r\n      if (l == 1) {//查看\r\n        if(mode==1){//医疗机构\r\n          path = '/register1'\r\n        }else{//企业\r\n          path = '/register'\r\n        }\r\n        path += '?look=1'\r\n      }else {//编辑\r\n        if(mode==1){//医疗机构\r\n          path = '/register1'\r\n        }else{//企业\r\n          path = '/register'\r\n        }\r\n        path += '?reset=1'\r\n      }\r\n      this.$router.push(path)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/Review/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container--fluid flex align-items--center\"},[(_vm.data!=null)?_c('div',{staticClass:\"container\"},[_c('p',{staticClass:\"text--center\",class:_vm.data.color},[_c('Icon',{staticClass:\"iconC\",attrs:{\"type\":_vm.data.icon}})],1),_vm._v(\" \"),_c('p',{staticClass:\"text--center text--h1 text--b\"},[_vm._v(\" \"+_vm._s(_vm.data.title))]),_vm._v(\" \"),_c('p',{staticClass:\"text--center failed-text-note\"},[_vm._v(_vm._s(_vm.data.content))]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"success-line\"}),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-content--center\"},[(this.org_status.flag == \"1\")?_c('Button',{staticClass:\"btnM-bt\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.cancelOrg}},[_vm._v(\"撤回\")]):_vm._e(),_vm._v(\" \"),(this.org_status.flag == \"1\" ||this.org_status.flag == \"2\")?_c('Button',{staticClass:\"btnM-bt\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.register(1)}}},[_vm._v(\"查看我提交的资料\")]):_vm._e(),_vm._v(\" \"),(this.org_status.flag == \"4\")?_c('Button',{staticClass:\"btnM-bt\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.register}},[_vm._v(\"去修改\")]):_vm._e()],1)])]):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-1f0ed438\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/views/Review/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1f0ed438\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f0ed438\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1f0ed438\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/Review/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}